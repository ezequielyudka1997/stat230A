---
title: "230A - Group Project"
format: pdf
editor: visual
---

```{r, message=FALSE}
library(tidyverse)
```


```{r}
zip_file_path <- "processed_data.zip"
csv_file_inside_zip <- "processed_data.csv"

processed_data <- read.csv(unzip(zip_file_path, files = csv_file_inside_zip))
```

Data Dictionary: 

ST: State

DIVISION: Division code based on 2010 Census definitions Division code based on
2020 Census definitions
0 .Puerto Rico
1 .New England (Northeast region)
2 .Middle Atlantic (Northeast region)
3 .East North Central (Midwest region)
4 .West North Central (Midwest region)
5 .South Atlantic (South region)
6 .East South Central (South region)
7 .West South Central (South Region)
8 .Mountain (West region)

AGEP: Age
0 .Under 1 year
1..99 .1 to 99 years (Top-coded)


ESR: 
  1 .Civilian employed, at work
  2 .Civilian employed, with a job but not at work
  3 .Unemployed
  4 .Armed forces, at work
  5 .Armed forces, with a job but not at work
  
NATIVITY: Nativity
1 .Native
2 .Foreign born
  
CIT:  Citizenship status
1 .Born in the United States
2 .Born in Puerto Rico, Guam, the U.S. Virgin Islands, or
.Northern Marianas
3 .Born abroad of U.S. citizen parent or parents
4 .U.S. citizen by naturalization
5 .Not a U.S. citizen  
  
  
CITWP:  Year of naturalization 
  bbbb: N/A (Not eligible - not naturalized)

YOEP: Year of entry
  bbbb .N/A (Not eligible - Born in the US)

COW: Class of worker
b .N/A (less than 16 years old/NILF who last worked more than 5
.years ago or never worked)
1 .Employee of a private for-profit company or business, or of an
.individual, for wages, salary, or commissions
2 .Employee of a private not-for-profit, tax-exempt, or
.charitable organization
3 .Local government employee (city, county, etc.)
4 .State government employee
5 .Federal government employee
6 .Self-employed in own not incorporated business, professional
.practice, or farm
7 .Self-employed in own incorporated business, professional
.practice or farm
8 .Working without pay in family business or farm
9 .Unemployed and last worked 5 years ago or earlier or never
.worked
  
Disability: 
1 .With a disability
2 .Without a disability

ENG
  
  
  ifelse(NATIVITY == 2, 1, 0)


```{r}
colnames(processed_data)
```
```{r}
processed_data%>%filter(!is.na(YOEP))%>%group_by(CIT)%>%summarise(n())
```


```{r}
processed_data$Years_naturalized[processed_data$Foreign_born == 0] <- 0
```
```{r}
processed_data$Years_in_US[processed_data$Foreign_born == 0] <- 0
```

```{r}
processed_data$Years_in_US[processed_data$CIT == 5] <- 0
```

```{r}
processed_data = processed_data%>%filter(CIT != 2)
```

```{r}
processed_data$wb50birth <- processed_data$FER

```

```{r}
processed_data$wb50birth[is.na(processed_data$FER) &
                         (processed_data$AGEP >= 50 | processed_data$SEX == 0)] <- 0
```

```{r}
colSums(is.na(processed_data))
```



